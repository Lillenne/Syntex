#+title: Syntex

CLI utility to export C# syntax trees to other formats (currently only [[https://mermaid.js.org/syntax/classDiagram.html][mermaid class diagrams]]).

* Install
#+begin_src shell
git clone https://github.com/Lillenne/Syntex
cd Syntex
dotnet pack
dotnet tool install --global --add-source ./nupkg Lillenne.Syntex
#+end_src

* Usage
#+begin_src shell
syntex --help

Description:
  Export to mermaid class diagram

Usage:
  Syntex mmd cd [options]

Options:
  --classes <classes> (REQUIRED)                                                                                                                   The fully qualified names of the classes to generate diagrams for.
  --all                                                                                                                                            Include all methods, properties, and fields regardless of accessibility.
                                                                                                                                                   Overrides individual accessibility settings.
  --public                                                                                                                                         Include only public methods, properties, and fields regardless of accessibility.
                                                                                                                                                   Overrides individual accessibility settings and the 'all' setting.
  --method <Friend|Internal|NotApplicable|Private|Protected|ProtectedAndFriend|ProtectedAndInternal|ProtectedOrFriend|ProtectedOrInternal|Public>  Minimum accessibility level for methods [default: Protected]
  --field <Friend|Internal|NotApplicable|Private|Protected|ProtectedAndFriend|ProtectedAndInternal|ProtectedOrFriend|ProtectedOrInternal|Public>   Minimum accessibility level for fields [default: Protected]
  --props <Friend|Internal|NotApplicable|Private|Protected|ProtectedAndFriend|ProtectedAndInternal|ProtectedOrFriend|ProtectedOrInternal|Public>   Minimum accessibility level for properties [default: Protected]
  --proj <proj>                                                                                                                                    The project(s) or solution(s) containing the files to parse.
  -?, -h, --help                                                                                                                                   Show help and usage information
#+end_src
  
#+begin_src shell
syntex mmd cd --classes Syntex.ITest Syntex.Test "Syntex.Test<T>" "Syntex.Test\`2"
#+end_src

#+begin_src mermaid :background-color transparent
classDiagram
    class ITest
    ITest : +Method() Int32
    ITest : +Int32 Property

    class Test
    Test : +Method() Int32
    Test : +Int32 Property
    Test ..|> ITest

    class Test1~T~
    Test1~T~ : +Method() Int32
    Test1~T~ : +String SomeProp
    Test1~T~ : +Int32 Property
    Test <|.. Test1~T~

    class Test2~T, U~
    Test2~T, U~ : +String SomeProp2
    Test1~T~ <|.. Test2~T, U~
#+end_src
* TODO Architecture
Visitor for mermaid
Visit class token
Export is outside of the interface

Abstract factory pattern?

Interface
- Detect/Parse
-
#+begin_src mermaid :background-color transparent

#+end_src
[fn:1]

* Footnotes

[fn:1] Generated using ~syntex mmd cd~
